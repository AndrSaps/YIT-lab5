@{
    ViewData["Title"] = "Product";
}
@using Milkify.Core.Datatable.DatatableRequests.RequestModels
@model Milkify.Core.Datatable.DatatableRequests.DatatableResult

@{
    var filter = Model.Filter as ProductRequestModel;
    var queryString = filter?.QueryString;
    var minPrice = filter?.MinPrice;
    var maxPrice = filter?.MaxPrice;
}
<div class="card">
    <div class="card-header">
        <h5>Products</h5>
    </div>
    <div class="card-body">
        @if (User.IsInRole("Admin"))
        {
            <a class="btn btn-primary mb-2" asp-action="Create">Create Product</a>
        }
        @*<form asp-action="Index" method="get">

            <div class="row">
                <div class="col-3">
                    <div class="form-group">
                        <input type="text" value="@queryString" class="form-control" name="QueryString" placeholder="Name"/>
                    </div>
                </div>
                <div class="col-2">
                    <div class="form-group">
                        <input type="number" value="@minPrice" class="form-control" name="MinPrice" placeholder="Min Price"/>
                    </div>
                </div>
                <div class="col-2">
                    <div class="form-group">
                        <input type="number" value="@maxPrice" class="form-control" name="MaxPrice" placeholder="Max Price"/>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <select name="CategoryId" id="CategoryId" class="form-control" asp-items="ViewBag.CategoryId">
                            <option value="">-- Select Category --</option>
                        </select>
                    </div>
                </div>
                <div class="col-2">
                    <div class="form-group">
                        <input type="submit" value="Filter" class="btn btn-primary"/>
                        <a class="btn btn-secondary" asp-action="Index">Clear Filters</a>
                    </div>
                </div>
            </div>
        </form>*@

        @await Html.PartialAsync("~/Views/Common/Datatable.cshtml", @Model)
    </div>
</div>